// Use a list of nodes to generate a list of template nodes

MY_TEMPLATES_2
{
  TEMPLIST
  {
    Experiment
    {
      name = crewReport
    }
    Experiment
    {
      name = temperatureScan
    }
  }
}

// Do processing
@MY_TEMPLATES_2:HAS[@TEMPLIST:HAS[@Experiment[*]]]:FOR[ZZZZZZZZZ_Templating]
{
  // create a new node inside templates based on first item in TEMPLIST
	EXPERIMENT_TEMPLATE
	{
		name = Experiment
		experiment_id = #$../TEMPLIST/Experiment/name$ // copy first experiment id
	}

	@TEMPLIST
	{ // delete first id from list
		!Experiment,0 {}
	}

	MM_PATCH_LOOP {} // check to see if more items to process
}

@MY_TEMPLATES_2:LAST[ZZZZZZZZZ_Templating]
{
  !TEMPLIST {} // remove temp list after processing completes
}

// ModuleManager.ConfigCache Output
// UrlConfig
// {
// 	parentUrl = MMPlayground/TemplatesFromNodeList.cfg
// 	MY_TEMPLATES_2
// 	{
// 		EXPERIMENT_TEMPLATE
// 		{
// 			name = Experiment
// 			experiment_id = crewReport
// 		}
// 		EXPERIMENT_TEMPLATE
// 		{
// 			name = Experiment
// 			experiment_id = temperatureScan
// 		}
// 	}
// }
